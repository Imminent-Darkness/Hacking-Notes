# Clearing Tracks

* [Windows](#windows)
* [Linux](#linux)
* [References](#references)

******************************************************************************
Items inside [SQUARE-BRACKETS] indicate changeable (fill in the blank) fields.  
Note: Bracket characters themselves [ ] require removal. See examples.
******************************************************************************

*NEVER LEAVE ANYTHING ON A CLIENT'S SYSTEM THAT A REAL ATTACKER CAN EXPLOIT*

* Store all artifacts in the Temp/tmp directory
   * If Temp directory does not exist, make one!
   * Use Temp to store artifacts because you know where everything you added to target machine is
   * Users don't check the Temp directory, so it helps with evasion  
     
* Pay attention to where msfconsole stores artifacts as sometimes it can't delete them automatically. Metasploit will tell you in the output if it can't delete an artifact. Pay close attention to this output and delete the artifacts manually.  

* Good modules have built in clean up resource scripts, note them after exploiting targets and use them when engagement is over.

To run a meterpreter resource script:
```
resource [PATH-TO-RESOURCE-SCRIPT]
```  
     
In msfconsole modules, learn and understand what a module does with:
```
show advanced
```
```
show info
```

## Windows

*Do NOT clear Windows event logs when preforming penetration tests for clients*

But if you have a use case for it...
```
clearev
```
*use clearev in meterpreter*

***********************************************************************

## Linux

Every user on the system has a .bashrc located in their home directory, it shows their command history. You can view command history with:

```
history
```
To clear history:
```
history -c
```  
  
If .bash_history file exits (default), the bash history will be stored there instead of .bashrc  
  
You can clear the .bash_history like this:
```
cat /dev/null > .bash_history
```
```
history -c
```  
  
***********************************************************************

### References
Penetration Tester Student v2 by INE  
https://my.ine.com/CyberSecurity/learning-paths/61f88d91-79ff-4d8f-af68-873883dbbd8c/penetration-testing-student-v2