# Linux Enumeration

* [Enumerating System Information](#enumerating-system-information)
* [Enumerating Users & Groups](#enumerating-users--groups)
* [Enumerating Network Information](#enumerating-network-information)
* [Enumerating Processes & Cron Jobs](#enumerating-processes--cron-jobs)
* [Automating Linux Enumeration](#automating-linux-enumeration)
* [References](#references)

******************************************************************************
Items inside [SQUARE-BRACKETS] indicate changeable (fill in the blank) fields.  
Note: Bracket characters themselves [ ] require removal. See examples.
******************************************************************************

## Enumerating System Information

What are we looking for?

* Hostname
* Distribution & distribution release version
* Kernel version & architecture
* CPU information
* Disk information & mounted drives
* Installed packages/software

### Linux Commands

```
hostname
```
```
cat /etc/issue
```
```
cat /etc/*release
```
```
uname -a
```
```
uname -r
```
```
env
```
```
lscpu
```

Show how much memory is being consumed:
```
free -h
```
*free may not be installed on target*

Show filesystems:
```
df -h
```
```
df 0ht ext4
```
```
lsblk | grep sd
```
  
List Debian packages installed on system:
```
dpkg -l
```

***********************************************************************

## Enumerating Users & Groups

What are we looking for?

* Current user & privileges
* Other users on the system
* Groups

### Meterpreter Commands

```
getuid
```
*uid=0 is the root user*
  
### Linux Commands

Check to see what groups a given user is in:
```
groups [USERNAME]
```
Show groups:
```
groups
```

```
cat /etc/passwd
```

Add user to a group:
```
usermod -aG [GROUP] [USERNAME]
```

Show currently logged on users:
```
w
```
OR
```
who
```

Display last legit logged in users:
```
last
```
```
last log
```

***********************************************************************

## Enumerating Network Information

What are we looking for?

* Current IP address & network adapter
* Internal networks
* TCP/UDP services running and their respective ports
* Other hosts on the network

### Meterpreter Commands

```
ifconfig
```
```
netstat
```
```
route
```
```
arp
```

### Linux Commands

```
ifconfig
```
```
ip a s
```
```
cat /etc/networks
```
```
cat /etc/hostname
```
```
cat /etc/hosts
```
```
cat /etc/resolv.conf
```
```
arp -a
```

***********************************************************************

## Enumerating Processes & Cron Jobs

What are we looking for?

* Running services
* Cron Jobs

### Meterpreter Commands

```
ps
```
```
pgrep [PROCESS]
```

### Linux Commands

```
ps aux
```
```
top
```
```
crontab -l
```
```
ls -al /etc/cron*
```
```
cat /etc/cron*
```

***********************************************************************

## Automating Linux Enumeration

### LinEnum

* GitHub:
   * https://github.com/rebootuser/linenum

### msfconsole modules

```
use post/linux/gather/enum_configs
```
```
use post/linux/gather/enum_network
```
```
use post/linux/gather/enum_system
```
```
use post/linux/gather/checkvm
```

***********************************************************************

### References
Penetration Tester Student v2 by INE  
https://my.ine.com/CyberSecurity/learning-paths/61f88d91-79ff-4d8f-af68-873883dbbd8c/penetration-testing-student-v2